---
title: 如何在 macOS 上一次解压多个档案
description: 在 Mac 上批量解压档案的完整指南。学习 Automator 工作流、Shell 脚本和 MacPacker 批处理功能，同时解压多个 ZIP、RAR 和 7z 文件。
keywords: mac 批量解压档案, mac 解压多个 zip 文件, mac 批量解压, 自动化解压 mac, 批量 unrar mac
canonical: https://macpacker.app/zh/docs/batch-extraction
---

# 如何在 macOS 上一次解压多个档案

当您必须单独解压每个档案文件时，处理数十或数百个档案文件会很繁琐。无论您是在处理下载的软件集合、备份提取的文件还是组织媒体库，在 macOS 上一次性批量解压多个档案都能节省大量时间。MacPacker 通过拖放批处理支持使批量解压变得轻而易举，支持 ZIP、RAR、7z 和 30 多种其他格式——无需手动编写脚本。

## 为什么在 Mac 上批量解压档案？

批量解压在几个常见场景中变得至关重要：

**软件开发**——解压从存储库下载的多个依赖档案、构建工件或发布包。单独处理档案会浪费开发时间。

**媒体收藏**——解压大量压缩视频文件、图像档案或音频库的集合，这些通常以多个压缩文件的形式分发以便于下载。

**文档管理**——处理按日期、部门或项目组织的归档报告、扫描文档或备份文件，这些文件以单独的档案形式到达。

**数据迁移**——在系统之间移动归档数据通常需要同时解压大量压缩文件以恢复文件夹结构。

macOS 的内置归档实用程序一次只能处理一个档案，迫使您手动双击每个文件或编写自定义脚本。MacPacker 通过原生批量解压支持消除了这种摩擦。

## 方法 1：使用 MacPacker 批量解压（推荐）

MacPacker 是在 Mac 上同时解压多个档案的最简单解决方案。它可以处理混合格式批次——您可以在一次操作中一起解压 ZIP、RAR、7z 和 TAR 文件。

### 步骤 1：安装 MacPacker

通过 [Homebrew](https://brew.sh) 安装 MacPacker：

```bash
brew install --cask macpacker
```

或直接从 [MacPacker 网站](https://macpacker.app/zh#download)下载或从 Mac App Store 安装。

### 步骤 2：选择多个档案

在 Finder 中，导航到包含档案的文件夹。选择所有要解压的档案：

- **选择所有文件**：按 `Cmd + A` 选择文件夹中的所有内容
- **选择特定文件**：按住 `Cmd` 并单击单个档案
- **选择范围**：单击第一个档案，按住 `Shift`，然后单击最后一个档案

MacPacker 支持同时解压混合档案格式——选择 `.zip`、`.rar`、`.7z`、`.tar.gz` 和其他格式的任意组合。

### 步骤 3：拖放解压

选择档案后，将它们拖到 Dock 或应用程序文件夹中的 MacPacker 应用程序图标上。MacPacker 将：

1. 同时打开所有选定的档案
2. 将每个档案解压到其自己的文件夹（或您选择的目标位置）
3. 在统一界面中显示所有解压操作的进度
4. 优雅地处理错误，如果一个失败则继续处理剩余的档案

**专业提示**：您可以配置 MacPacker 的解压偏好设置，自动将档案解压到与源文件相同的文件夹、特定目标文件夹，或提示您进行每个批次。

### MacPacker 中的批量解压功能

MacPacker 的批处理模式自动处理复杂场景：

- **混合格式**——在一个批次中解压 [ZIP](./password-protect-zip)、[RAR](./extract-rar) 和 [7z 文件](./extract-7zip)
- **受密码保护的档案**——为使用相同密码的所有档案输入一次密码，或根据需要单独输入
- **多部分档案**——MacPacker 自动检测并组合分割档案（`.part1.rar`、`.part2.rar`）
- **错误处理**——即使单个文件失败，也会继续解压剩余档案
- **保留结构**——解压到目标位置时保持原始文件夹组织

这使 MacPacker 在批处理操作方面比归档实用程序或基本命令行工具功能强大得多。

[免费下载 MacPacker](https://macpacker.app/zh#download)

## 方法 2：使用终端和 Shell 脚本批量解压

对于开发人员和高级用户，终端为批量解压提供了强大的自动化选项。这种方法非常适合在远程服务器上工作、集成到构建脚本中或以编程方式处理档案。

### 使用 unzip 进行基本批量解压

要解压目录中的所有 ZIP 文件：

```bash
for file in *.zip; do
    unzip -d "${file%.zip}" "$file"
done
```

此脚本循环遍历当前目录中的所有 `.zip` 文件，并将每个文件解压到以档案命名的文件夹（不带 `.zip` 扩展名）。

### 使用 unrar 批量解压 RAR 文件

首先安装 `unrar`（如果尚未安装）：

```bash
brew install unrar
```

然后解压所有 RAR 档案：

```bash
for file in *.rar; do
    unrar x "$file" "${file%.rar}/"
done
```

### 使用 p7zip 批量解压 7z 文件

安装 `p7zip` 命令行工具：

```bash
brew install p7zip
```

解压所有 7z 档案：

```bash
for file in *.7z; do
    7z x "$file" -o"${file%.7z}"
done
```

### 通用批量解压脚本

对于混合档案格式，使用这个处理 ZIP、RAR、7z 和 TAR 格式的综合脚本：

```bash
#!/bin/bash
for archive in *.{zip,rar,7z,tar.gz,tar.bz2}; do
    [ -f "$archive" ] || continue

    case "$archive" in
        *.zip)     unzip -d "${archive%.zip}" "$archive" ;;
        *.rar)     unrar x "$archive" "${archive%.rar}/" ;;
        *.7z)      7z x "$archive" -o"${archive%.7z}" ;;
        *.tar.gz)  tar xzf "$archive" -C "${archive%.tar.gz}" ;;
        *.tar.bz2) tar xjf "$archive" -C "${archive%.tar.bz2}" ;;
    esac
done
```

将其保存为 `batch_extract.sh`，使用 `chmod +x batch_extract.sh` 使其可执行，并在包含档案的任何目录中运行它。

**何时使用终端方法：**
- 在 CI/CD 管道中自动化解压
- 通过 SSH 在远程服务器上处理档案
- 将解压集成到现有 Shell 脚本中
- 使用自定义过滤或转换进行批处理

## 方法 3：使用 Automator 工作流批量解压

macOS Automator 提供了一个基于 GUI 的自动化解决方案，无需编写代码即可进行批量解压。创建一个可重用的工作流，您可以从 Finder 的右键菜单调用。

### 创建 Automator 批量解压服务

1. 打开 **Automator**（在应用程序中或通过 Spotlight）
2. 选择**快速操作**（或在较旧的 macOS 版本中选择"服务"）
3. 将"工作流接收当前"设置为 **Finder** 中的**文件或文件夹**
4. 将**运行 Shell 脚本**操作拖入工作流
5. 粘贴此脚本：

```bash
for file in "$@"; do
    case "$file" in
        *.zip)
            unzip -d "${file%.zip}" "$file"
            ;;
        *.rar)
            unrar x "$file" "${file%.rar}/"
            ;;
        *.7z)
            7z x "$file" -o"${file%.7z}"
            ;;
    esac
done
```

6. 将工作流保存为"批量解压档案"

现在您可以在 Finder 中右键单击任何选定的文件，并选择**快速操作 > 批量解压档案**来立即处理它们。

### Automator 与 MacPacker

虽然 Automator 工作流提供自动化，但 MacPacker 具有几个优势：

- **无需设置**——安装后立即工作
- **进度跟踪**——所有解压操作的可视反馈
- **错误处理**——用户友好的错误消息而不是终端输出
- **格式支持**——无需安装额外的命令行工具即可处理 30 多种档案格式
- **密码支持**——加密档案的交互式密码提示

对于偶尔的批量解压，MacPacker 更简单。对于集成到复杂工作流或自动化链中，Automator 或 Shell 脚本提供更多灵活性。

## 批量解压问题故障排除

### 某些档案在批处理模式下无法解压

处理大批量时，某些档案可能已损坏或受密码保护：

1. 检查 MacPacker 的解压日志以识别哪些文件失败
2. 单独解压失败的档案以查看特定错误消息
3. 通过使用 `unrar t filename.rar` 或类似命令测试来验证损坏的档案
4. 对于受密码保护的档案，单独解压或确保所有档案使用相同的密码

了解有关处理问题文件的更多信息：[如何从损坏的档案中恢复文件](./corrupted-archives)

### 批量解压磁盘空间不足

同时解压许多大型档案可能会消耗大量存储空间：

1. 在批量解压之前检查可用磁盘空间：系统设置 > 通用 > 存储
2. 分小批量解压以逐步管理磁盘使用
3. 如果空间有限，在成功解压后删除源档案
4. 在可能的情况下，对磁盘映像和 ISO 文件使用符号链接或稀疏文件

### 档案解压到错误位置

不同的工具有不同的默认解压行为：

- **MacPacker**：将每个档案解压到以档案文件命名的文件夹
- **归档实用程序**：解压到与源档案相同的目录
- **命令行工具**：行为取决于使用的标志（`-d`、`-o` 等）

在 MacPacker 设置中配置解压目标偏好设置，或在 Shell 脚本中使用显式输出路径来控制文件解压到的位置。

### 批量解压速度太慢

解压速度取决于几个因素：

1. **档案格式**：由于压缩算法复杂性，[7z 档案](./extract-7zip)比 ZIP 解压慢
2. **文件数量**：包含数千个小文件的档案比单个大文件花费的时间更长
3. **磁盘速度**：解压到外部驱动器或网络位置比本地 SSD 存储慢
4. **并发操作**：同时解压太多档案可能会使磁盘 I/O 饱和

为了获得最大速度，一次批量解压 10-20 个档案到本地 SSD 存储。[RAR 档案](./extract-rar)在压缩和解压速度之间提供了良好的平衡。

## 常见问题

### 我可以同时批量解压不同的档案格式吗？

是的，MacPacker 无缝处理混合格式批量解压。选择 ZIP、RAR、7z、TAR.GZ 和其他受支持格式的任意组合，并在一次操作中一起解压它们。MacPacker 自动检测每个档案的格式并使用适当的解压方法。

### 如何批量解压受密码保护的档案？

如果所有档案使用相同的密码，MacPacker 将提示一次并将该密码应用于所有文件。如果档案使用不同的密码，MacPacker 将根据需要单独提示。对于命令行批量解压，您可以使用 `unrar x -p密码 archive.rar` 等标志直接在脚本中传递密码，或使用提示每个密码的交互式循环。

### 批量解压对嵌套档案有效吗？

是的，但嵌套档案（包含其他档案的档案）需要多次解压。MacPacker 可以在解压之前预览[嵌套档案](./nested-archives)，并允许您在解压外部档案后解压内部档案。对于自动化，运行批量解压脚本两次——一次用于外部档案，然后再次用于提取的内容。

### 我可以从档案中批量解压特定文件类型吗？

MacPacker 允许选择性解压——单独打开档案并选择要解压的特定文件。对于命令行自动化，使用带有文件模式的 `unzip` 等工具：`unzip archive.zip '*.pdf'` 仅解压 PDF 文件。对于批处理操作，在解压后将文件过滤合并到 Shell 脚本中。

### 解压数百个档案的最快方法是什么？

对于具有图形界面的混合格式使用 MacPacker，或编写使用并行处理的 Shell 脚本以获得最大速度：

```bash
find . -name "*.zip" -print0 | xargs -0 -P 4 -I {} unzip -d "{}" "{}"
```

这同时解压最多 4 个 ZIP 文件。调整 `-P 4` 以匹配您的 CPU 核心数。对于非常高的并行度要小心，因为它可能会使磁盘 I/O 饱和并实际上减慢整体解压速度。

### 如何在下载档案时自动解压？

macOS 不为所有档案类型提供内置的下载自动解压。对于浏览器，配置下载设置或使用浏览器扩展。对于自动化工作流，在 Automator 中创建一个监视下载文件夹并自动解压新档案的文件夹操作。或者，使用 `fswatch` 等命令行工具监视目录，并在出现新档案时触发解压脚本。

### 我可以直接将档案解压到网络驱动器或外部存储吗？

是的，MacPacker 和命令行工具都支持解压到任何挂载的卷。但是，网络驱动器和外部存储比本地 SSD 存储慢得多。对于大型批处理操作，考虑首先解压到本地存储，然后将提取的文件移动到网络存储以获得更好的性能。

### 在批量解压中如何处理多部分档案？

多部分档案（`.part1.rar`、`.part2.rar` 等）必须在同一目录中具有所有部分。批量解压时，仅选择每个多部分档案的第一部分——MacPacker 和命令行工具会自动检测并组合所有部分。单独选择所有部分可能会导致错误或重复的解压尝试。

---

**准备好高效地批量解压档案了吗？**[下载 MacPacker——Mac 最快的批量档案解压器](https://macpacker.app/zh#download)

MacPacker 是免费的开源软件，支持批量解压 30 多种档案格式。无脚本、无设置、无限制。
